---
applyTo: '**'
---
* You must generate test cases strictly following the below format and structure.  
* Do not change the column names, do not add extra fields, and keep the layout exactly the same.  
* While generating test cases firstly, add 1 row in Test Steps format, write there like 1.1 and then Launch OneHome application then User should be able to launch OneHome application then User is able to launch OneHome application.  
* Write test cases by covering all possible steps and scenarios.
* While generating specific activity & action, make sure skip small small & repeatative steps, directly come to the point.
* Remember, if if test steps in specific activity & action column, crossed 1.5 steps then going forward combine next two steps into one step.

ðŸ–‡ Pre-Conditions Format:  
Pre-Conditions (If any): 1: For Consumer: User is authenticated/unauthenticated

ðŸ–‡ Test Steps Format:

| Test Step ID | Specific Activity or Action | Expected Results | Actual Results |
|--------------|-----------------------------|------------------|----------------|

Example Rows:  
| 1.1 | Apply search filters for City, Price, Beds, and Baths. | User should be able to apply search filters for city, price, beds, and baths. | User is able to apply search filters for city, price, beds, and baths. | 
| 1.2 | Open a property detail page. | User should be able to open a property detail page. | User is able to open a property detail page. | 
| 1.3 | Go back to the property listings page. | User should be able to go back to the property listings page. | User is able to go back to the property listings page. | 
| 1.4 | Verify No errors should occur when returning from the property detail page to the listings page. | User should be able to verify no errors should occur when returning from the property detail page to the listings page. | User is able to verify no errors should occur when returning from the property detail page to the listings page. |

Important Rules:  
* Do not skip any field, even if itâ€™s blank.  
* Do not modify headings.  
* Pre-Conditions must be added separately, not inside test steps.  
* Maintain the order as shown.  
* Generate test cases in tabular format.
* Test Cases should cover all possible scenarios & make sure generate optimise test cases like generate limited test cases only.
* While generating specific activity & action, make sure skip small small & repeatative steps, directly come to the point.
* Remember, if if test steps in specific activity & action column, crossed 1.5 steps then going forward combine next two steps into one step.
* If you feel test steps are more, then add them in the same row with a comma.
* Add ability to learn, adapt and improve over time by reinforcing the learning process.
* Learn from past experiences & past data and apply that knowledge to future test cases.
* Generate optimized test cases that are efficient and effective.
* When user use #atlassian #getJiraIssue MCP tools in prompt to fecth jira ticket information then walkthrough complete jira ticket information from URL given user.
* Don't truncate information that receiving from Jira ticket using URL mention it in test case completely, refer below Use Case ;
Acceptance Criteria avaialble in Jira ticket,
If a user is viewing a property outside the MLS, all fields below will be hidden,

MlsAreaMajor
MLSAreaMinor
ConcessionInPrice
ConcessionInPriceType
SellerConsiderConcessionYN
Concessions
ConcessionsAmount
ConcessionsComments
ConcessionsClosingCosts
ConcessionsPropertyImprovementCosts
ConcessionsFinancingCosts
ConcessionsBuyerBrokerFee
ConcessionsOtherCosts
BuyerBrokerageCompensation
BuyerBrokerageCompensationType
ClosePrice

But when user given jira ticket URL to generate test cases then while generating tets cases in the response we are getting below steps which is not mentioning all the fields given in acceptance criteria,
1.5	Verify that fields like MlsAreaMajor, MLSAreaMinor, ConcessionInPrice, and other specified fields are visible in the property details.	User should be able to verify that specified fields are visible in property details for listings within their MLS.	User is able to verify that specified fields are visible in property details for listings within their MLS.
* generate automation script, in javascript using mocha framework.
* While generating automation script, make sure to add Allure report in before method to avoid duplcations.
* Use async/await for asynchronous operations.
* maintain code quality and readability.
* Use proper naming conventions for variables and functions.
* If required, use comments to explain complex logic.
* If required, create reusable functions for repetitive tasks.
* While generating automation script, walkthrough complete codebase and import packages and class from other files and folders if required like if in automation script login functionality then use already implemented login functions if they are avaiable in other files. refer following sample script,

const propertyDetails = require("../../pageobjects/property-details-view/propertyDetails");
const propertyDetailsFunctions = require("../../business-functions/propertyDetails");
const loginFunctions = require("../../business-functions/login");
const generalFunctions = require("../../business-functions/general");
const { userTokens, credentials } = require("../testData");
const customFields = require("../../pageobjects/Customfields");
const estimatedMonthlyCost = require("../../pageobjects/property-details-view/estimatedMonthlyCostWindow");

describe("Internet Service Providers in Property Details:", () => {
  beforeEach(() => {
    allure.addFeature("Property Details");
  });
  afterEach(async () => {
    await browser.execute("location.reload();");
  });

  before(async () => {
    // Step 1: Launch OneHome
    await generalFunctions.openOneHome(userTokens.registered);
    await browser.pause(5000);
    // Step 2: Click on any property listing
    await propertyDetailsFunctions.openRandomPropertyFromGrid();
  });

  it("Verify Internet Service Providers in EMC blade", async () => {
    // Step 3: Click on "View Cost Breakdown" CTA

    await customFields.viewCostBreakdown.waitForDisplayed({ timeout: 5000 });
    await customFields.viewCostBreakdown.click();

    // Step 4: Click on "UTILITIES" dropdown
    await estimatedMonthlyCost.utilitiesSectionTitle.waitForClickableAndClick();

    // Verify utilities section is displayed
    expect(await estimatedMonthlyCost.utilitiesSectionTitle.isDisplayed()).toBe(
      true
    );

    // Step 5: Click on "See Internet Service Providers" CTA

    await estimatedMonthlyCost.seeISPButton.waitForClickable({ timeout: 5000 });
    await estimatedMonthlyCost.seeISPButton.click();

    // Step 6: Verify "Internet Service Providers" label is visible

    await estimatedMonthlyCost.ispLabel.waitForDisplayed({ timeout: 5000 });
    expect(await estimatedMonthlyCost.ispLabel.isDisplayed()).toBeTruthy();

    // Step 7 & 8: Verify and click on "see details" CTA

    await estimatedMonthlyCost.seeDetailsCTA.waitForDisplayed();
    //   timeout: 5000,
    // });
    browser.pause(3000);
    expect(await estimatedMonthlyCost.seeDetailsCTA.isDisplayed()).toBeTruthy();
  });

  it("Should display Internet Service Providers section and allow interaction", async () => {
    // Step 3: Scroll down to "Additional Services" dropdown

    await browser.pause(5000);

    await customFields.additionalServicesDropdown.scrollIntoView();

    // Step 4: Verify "Internet Service Providers" label is visible

    await browser.pause(5000);
    await customFields.ispLabel.waitForDisplayed({ timeout: 5000 });
    expect(await customFields.ispLabel.isDisplayed()).toBeTruthy();

    // Step 5: Verify "see details" CTA in the ISP tile is visible

    await customFields.seeDetailsCTA.waitForDisplayed({ timeout: 5000 });
    expect(await customFields.seeDetailsCTA.isDisplayed()).toBeTruthy();

    // Step 6: Click on "see details" CTA
    await customFields.seeDetailsCTA.click();
  });
});

* Use the following naming conventions for test cases:
  * For Consumer: "Consumer - [Test Case Name]"
  * For Agent Portal: "Agent Portal - [Test Case Name]" 
* Instead of Mentioning "Login as ONMLS user", use"Login into ONMLS" & same for "Login as non-ONMLS user", instead use "Login into other MLS". Keep in mind here MLS is referred to as Multiple Listing Service. If we are talking about anyspecific MLS, then use that specific MLS name.

* Following are the MLS names:
Whistler Listing Service (BC, Canada) osn:WLS
Incline Village, Nevada (NV)
Sudbury Real Estate Board (ON, Canada) osn:SREB
Big Bear Lake (CA)
Wiregrass MLS
Greater Binghamton Association of Realtors (NY)
New Brunswick (NB, Canada) osn:NBRUN
Heartland Association of Realtors, Inc. Sebring (FL)
Athens Area Association of Realtors (Classic MLS)(GA)
Amelia Island/Nassau County (FL)
West Alabama MLS (AL)
Greater Erie Board of Realtors (ERI) (OH)
Central Illinois Board of Realtors (IL)
Alamance County - Burlington (NC)
Kanawha Valley MLS (WV)
Fort Smith (Arkansas) (AR)
Greater Southern MLS
Newfoundland and Labrador Association of Realtors (NL, Canada) osn:NLAR
Summit Association of REALTORS (CO)
Lee County Association of Realtors (AL)
Golden Isles Association of Realtors (GA)
High Country Association of Realtors (NC)
Williamsburg (VA)
Martin County, Florida (MRT) (FL)
Cedar Rapids Area Association of Realtors (IA)
Billings Association of Realtors (MT)
WARDEX - Bullhead City/Western Arizona (AZ)
Santa Fe Association of REALTORS
Florida Realtor Association of Citrus County (FL)
Realtors Association of Northwestern Wisconsin (WI)
Southern Indiana Realtors Association (IN)
Lake of the Ozarks Board and Bagnell Dam Association of REALTORS (MO)
The Waco Association of Realtors, Inc. (TX)
Bryan-College Station MLS (TX)
Greater McAllen Association of REALTORS (TX)
Big Sky Country - Montana (MT)
Windsor/Essex/Sarnia/Chatham-Kent - (ON, Canada) osn:WESC
Realtor Association of Indian River County (RAIRC) Vero Beach (FL)
Montgomery Area Association of REALTORS (AL)
Saskatchewan (SK, Canada)
Hilton Head Island (SC)
Toledo Regional Association of Realtors (OH)
Corpus Christi Association of Realtors (TX)
Savannah (GA)
Manitoba (MB, Canada) osn:MANI
Longleaf Pines MLS (Fayetteville) (DD) (NC)
Western Upstate (UPMLS) (GA)
Association of Interior Realtors (Canada)
Iowa (IA)
Vancouver Island Real Estate Board and Victoria Real Estate Board (BC, Canada) osn:VIVA
Greater Lehigh Valley REALTORS (PA)
Northwest Arkansas Board of REALTORS (AK)
Brooklyn New York MLS (NY)
Montana Regional MLS (MT)
Dayton Area Board of REALTORS (OH)
Greater Tulsa Association of Realtors (OK)
Central Texas MLS (CTX) (TX)
Pikes Peak Realtor Services Corp
Royal Gorge
Central Virginia Regional (VA)
HICentral MLS (HI)
Triad MLS (Piedmont Triad region) (NC)
Oklahoma City (OK)
Alberta One Realty Listing Services, Inc. (Pillar 9) (AB, Canada) osn:PILLARNINE
Gulf South Real Estate Information Network (GSREIN) New Orleans (LA)
West Penn MLS, Inc. (PA)
Rhode Island State-Wide MLS (RI)
Real Estate Information Network, Inc (REIN) (VA)
Broward, Palm Beaches and St. Lucie Realtors/BeachesMLS (fka Greater Ft. Lauderdale) (FL)
Central Jersey MLS - Middlesex (NJ)
New York State Alliance of MLS (NY)
Greater Kansas City/Heartland MLS (KS)
Hudson Gateway Multiple Listing Service, Inc (NY)
Montreal Quebec (QC, Canada) osn:CIGM
MLS Now
Mid America Regional Information Systems (MO)
Austin Central Texas (TX)
Southwest Florida MLS (FL)
MLS Listings Inc. (CA)
Las Vegas (NV)
Realcomp II Ltd (MI)
SmartMLS (CT)
Canopy MLS (Charlotte)
ONMLS/ITSO MLS (ON, Canada)
Recolorado (DD) (CO)
North Star MLS (MN)
Northwest Multiple Listing Service (WA)
Houston, TX (TX)
North Texas Real Estate Information Systems, Inc (TX)
South East Florida (Miami) (FL)
Toronto Regional Real Estate Board (ON, Canada) osn:TRREB
First MLS (Atlanta) (DD) (GA)
Stellar MLS-formerly My Florida Regional/MFR MLS (DD) (FL)
Bright (DC, MD, VA, PA, WV, DE)
California Regional (CA)
New Jersey Multiple Listing Service (NJ)
Garden City Multiple Listing Service (KS)
Highlands-Cashiers Board of Realtors (NC)
RLS Connect NYC (NY) (Previously REBNY/Real Estate Board of NY)


* Terms to keep in mind:
  * MLS: Multiple Listing Service
  * LM: Lead Management
  * PA: Partial Access
  * SAP: Standalone Agent Page
  * Enhanced Consumer Funnel Management(ECFM) - Lead Management(LM)
* ECFM - Enhanced Consumer Funnel Management
* Enhanced Consumer Funnel Mgmt - Share Agent Profile
* TOS - Terms of Service
* CFM - Consumer Funnel Management
* EMC - Estimated Monthly Cost
* Ads Services Widget  shows in Property details page, between Other Facts & Feature And Schools section.
* SND - SRCH : Syndication search
* SND - Syndication

* Links
    * OneHome Consumer Portal for Canopy MLS UAT:https://aotf-uat.corelogic.com/en-US/properties/map?token=eyJPU04iOiJDQU5PUFlfQU9URl9VQVQiLCJjb250YWN0aWQiOiI0MDI2MDYxIiwiZW1haWwiOiJ1c2VyMUBtYWlsaW5hdG9yLmNvbSIsImFnZW50aWQiOiIxMTA3MjAifQ%3D%3D&searchId=bb359e21-4d8f-3095-aa47-3b4291bd8904
    * OneHome Agent Portal for Canopy MLS UAT: https://agent-aotf-uat.corelogic.com/en-US/agent/login
    * OneHome Agent Share Link: https://aotf-uat.corelogic.com/en-US/share/1030489d75471


* Features 
    * Reimagine Space(CTA) - gives virtual experience of space - powered by RoomVo
                      - This feature works with property images which are shows in property details page.